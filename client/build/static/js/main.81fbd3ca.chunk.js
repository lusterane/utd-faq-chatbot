(this["webpackJsonputd-faq-chatbot"]=this["webpackJsonputd-faq-chatbot"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),i=n(24),c=n.n(i),o=(n(35),n(36),n(3)),u=n(4),d=n(6),l=n(5),h=n(25),j=n.n(h),p=n(11),b=n.n(p),f=n(14),O=n(55),m=n(21),v=n(9),x=n(8),w=(n(46),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={currentCosinSim:"",currentQuestion:"",currentAnswer:"",index:0,showAnswer:!1,answeredQuestion:!1},e.toggleShowAnswer=function(){e.setState({showAnswer:!e.state.showAnswer})},e.handleAnsweredQuestion=function(){var t=e.state,n=t.currentQuestion,s=t.currentAnswer;e.props.handleAnsweredQuestion(n,s),e.setState({showAnswer:!1,answeredQuestion:!0})},e.handleIndexIncrement=function(){e.state.index!=e.props.questions.response.length-1&&e.updateCurrentQuestion(e.state.index+1)},e.handleIndexDecrement=function(){0!=e.state.index&&e.updateCurrentQuestion(e.state.index-1)},e.updateCurrentQuestion=function(t){var n=e.props.questions.response;e.setState({index:t,currentCosinSim:n[t][0],currentQuestion:n[t][1],currentAnswer:n[t][2],showAnswer:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateCurrentQuestion(0)}},{key:"render",value:function(){var e=this.state,t=e.currentAnswer,n=e.currentCosinSim,a=e.currentQuestion,i=e.index,c=e.showAnswer,o=e.answeredQuestion,u=this.props.questions.response;return Object(s.jsx)(r.Fragment,{children:o?Object(s.jsx)("div",{children:"I'm happy to have assisted you!"}):Object(s.jsxs)("div",{className:"card-wrapper",children:[Object(s.jsxs)("div",{className:"direction-wrapper",children:[Object(s.jsx)(v.a,{className:0==i?"grey left-arrow":"left-arrow",onClick:this.handleIndexDecrement,icon:x.a}),Object(s.jsx)(v.a,{className:i==u.length-1?"grey right-arrow":"right-arrow",onClick:this.handleIndexIncrement,icon:x.b})]}),Object(s.jsxs)("div",{className:"text-response",children:[Object(s.jsx)("b",{children:"Cosin Similarity:"})," ",n]}),Object(s.jsxs)("div",{className:"text-response",children:[Object(s.jsx)("b",{children:"Question:"})," ",a]}),c?Object(s.jsxs)("div",{className:"text-response",children:[Object(s.jsx)("b",{children:"Answer:"})," ",t]}):"",Object(s.jsx)(m.a,{variant:"outline-dark show-answer-button",onClick:this.toggleShowAnswer,children:"Answer"}),Object(s.jsx)("div",{children:c?Object(s.jsx)(m.a,{variant:"outline-success show-answer-button",onClick:this.handleAnsweredQuestion,children:"This Answers My Question"}):""})]})})}}]),n}(r.Component)),g=(n(47),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={questions:[],isLoaded:!1},e.updateUserModel=function(){var t=e.props.steps,n=t.name,s=t.type;t.question;e.props.handleName(n.message),e.props.handleUserType(s.message)},e.handleAnsweredQuestion=function(t,n){var s=e.props.steps.question;e.props.handleQuestionsAnswered(s,t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getIntentsFromDB(),this.updateUserModel()}},{key:"getIntentsFromDB",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,n,s=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("HTTP CALL: getQuestionQuery"),"https://utd-faq-chatbot.herokuapp.com",e.next=4,fetch("https://utd-faq-chatbot.herokuapp.com/question/"+this.props.steps.question.message).then((function(e){return e.json({message:"Recieved"})})).then((function(e){return s.setState({questions:JSON.parse(JSON.stringify(e)),isLoaded:!0}),localStorage.setItem("query",JSON.parse(JSON.stringify(e))),e.status}),(function(e){return console.log("error"),s.setState({error:e}),e.status}));case 4:return t=e.sent,e.next=7,t;case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.questions,n=e.isLoaded;return Object(s.jsx)(r.Fragment,{children:n?Object(s.jsx)("div",{className:"dark normal-font-size",children:Object(s.jsx)(w,{questions:t,handleAnsweredQuestion:this.handleAnsweredQuestion})}):Object(s.jsx)(O.a,{animation:"border",variant:"dark",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})})})}}]),n}(r.Component)),y=(n(48),r.Component,function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(r.Fragment,{children:Object(s.jsx)("div",{className:"chatbot-wrapper",children:Object(s.jsx)(j.a,{width:"500px",steps:[{id:"1",message:"Hello, what's your name?",trigger:"name"},{id:"name",user:!0,trigger:"3"},{id:"3",message:"Hi {previousValue}, are you faculty or student?",trigger:"type"},{id:"type",user:!0,trigger:"4"},{id:"4",message:"Good to know!",trigger:"5"},{id:"5",message:"Ask me any question about UTD (ex: How do I apply to UTD?)",trigger:"question"},{id:"question",user:!0,trigger:"question_component"},{id:"question_component",component:Object(s.jsx)(g,{updateQuestions:this.props.updateQuestions,handleName:this.props.handleName,handleUserType:this.props.handleUserType,handleQuestionsAnswered:this.props.handleQuestionsAnswered}),trigger:"10"},{id:"10",message:"Do you have another question?",delay:15e3,trigger:"loop_question"},{id:"loop_question",options:[{value:1,label:"Yes, another question.",trigger:"another question"},{value:2,label:"No, I'm good.",trigger:"exit"}]},{id:"another question",message:"No problem! What other question may you have?",trigger:"question"},{id:"exit",message:"Thanks for using UTD Chatbot!",end:!0}]})})})}}]),n}(r.Component)),q=(n(49),n(50),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.userType,a=e.questionData;return Object(s.jsx)(r.Fragment,{children:Object(s.jsxs)("div",{className:"user-model-wrapper card-border",children:[Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:"USER MODEL"})}),Object(s.jsxs)("div",{children:["Name: ",t]}),Object(s.jsxs)("div",{children:["User Type: ",n]}),Object(s.jsxs)("div",{children:["Question: ",a.question?a.question.message:""]}),Object(s.jsxs)("div",{children:["Matched FAQ Question: ",a?a.faqQuestion:""]}),Object(s.jsxs)("div",{children:["Matched FAQ Answer: ",a?a.faqAnswer:""]})]})})}}]),n}(r.Component)),A=(n(51),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(r.Fragment,{children:Object(s.jsxs)("div",{className:"current-scraped-sites-wraper card-border",children:[Object(s.jsx)(v.a,{className:"refresh-button",onClick:this.refreshComponent,icon:x.c}),Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:"Current Scraped Sites"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://utdallas.edu/covid/response/faq/",children:"https://utdallas.edu/covid/response/faq/"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://registrar.utdallas.edu/faq/",children:"https://registrar.utdallas.edu/faq/"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://www.utdallas.edu/counseling/faq/index.html",children:"https://www.utdallas.edu/counseling/faq/index.html"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://www.utdallas.edu/housing/faq/",children:"https://www.utdallas.edu/housing/faq/"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://www.utdallas.edu/services/transit/parkfaq/",children:"https://www.utdallas.edu/services/transit/parkfaq/"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://cs.utdallas.edu/admissions/admissions-faq/",children:"https://cs.utdallas.edu/admissions/admissions-faq/"})})]})})}}]),n}(r.Component)),k=(n(52),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={student:{},faculty:{},showStudent:!1,showFaculty:!1},e.toggleShowStudent=function(){e.setState({showStudent:!e.state.showStudent})},e.toggleShowFaculty=function(){e.setState({showFaculty:!e.state.showFaculty})},e.refreshComponent=function(){e.getRecentlyAsked("faculty"),e.getRecentlyAsked("student")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getRecentlyAsked("student"),this.getRecentlyAsked("faculty")}},{key:"getRecentlyAsked",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var n,s,r=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("HTTP CALL: getRecentlyAsked"),"https://utd-faq-chatbot.herokuapp.com",e.next=4,fetch("https://utd-faq-chatbot.herokuapp.com/recentlyAsked/"+t).then((function(e){return e.json({message:"Recieved"})})).then((function(e){var t=e[0],n=t.questionData,s=t.user,a=t.userType,i=t.date;"FACULTY"===a?r.setState({faculty:{user:s,userType:a,date:i,questionData:n}}):r.setState({student:{user:s,userType:a,date:i,questionData:n}})}),(function(e){return console.log("error"),r.setState({error:e}),e.status}));case 4:return n=e.sent,e.next=7,n;case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.showStudent,n=e.showFaculty,a=e.student,i=e.faculty;return Object(s.jsx)(r.Fragment,{children:Object(s.jsxs)("div",{className:"recently-asked-wrapper card-border",children:[Object(s.jsx)(v.a,{className:"refresh-button",onClick:this.refreshComponent,icon:x.c}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Recently asked by student:"})," "]}),t?Object(s.jsxs)("div",{className:"show-recent-wrapper",children:[Object(s.jsxs)("div",{children:["Name: ",a.user]}),Object(s.jsxs)("div",{children:["Date: ",a.date]}),Object(s.jsxs)("div",{children:["user_Q: ",a.questionData.userQuestion]}),Object(s.jsxs)("div",{children:["Q: ",a.questionData.faqQuestion]}),Object(s.jsxs)("div",{children:["A: ",a.questionData.faqAnswer]})]}):"",Object(s.jsx)(m.a,{variant:"outline-light normal-text-size",onClick:this.toggleShowStudent,children:"SHOW"}),Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:"Recently asked by faculty: "})}),n?Object(s.jsxs)("div",{className:"show-recent-wrapper",children:[Object(s.jsxs)("div",{children:["Name: ",i.user]}),Object(s.jsxs)("div",{children:["Date: ",i.date]}),Object(s.jsxs)("div",{children:["user_Q: ",i.questionData.userQuestion]}),Object(s.jsxs)("div",{children:["Q: ",i.questionData.faqQuestion]}),Object(s.jsxs)("div",{children:["A: ",i.questionData.faqAnswer]})]}):"",Object(s.jsx)(m.a,{variant:"outline-light normal-text-size",onClick:this.toggleShowFaculty,children:"SHOW"})]})})}}]),n}(r.Component)),Q=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={questions:[],name:"",userType:"",questionData:{}},e.handleName=function(t){e.setState({name:t})},e.handleUserType=function(t){e.setState({userType:t})},e.handleQuestionsAnswered=function(t,n,s){e.setState({questionData:{question:t,faqQuestion:n,faqAnswer:s}})},e.updateQuestions=function(t){e.setState({questions:t})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.userType,a=e.questionData;return Object(s.jsx)(r.Fragment,{children:Object(s.jsxs)("div",{className:"home-wrapper",children:[Object(s.jsx)(y,{updateQuestions:this.updateQuestions,handleName:this.handleName,handleUserType:this.handleUserType,handleQuestionsAnswered:this.handleQuestionsAnswered}),Object(s.jsxs)("div",{children:[Object(s.jsx)(k,{}),Object(s.jsx)(q,{name:t,userType:n,questionData:a}),Object(s.jsx)(A,{})]})]})})}}]),n}(r.Component);var S=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)(Q,{})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))};n(53);c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(S,{})}),document.getElementById("root")),C()}},[[54,1,2]]]);
//# sourceMappingURL=main.81fbd3ca.chunk.js.map